{"ast":null,"code":"import _defineProperty from\"/home/bartekj/Projects/diet-planner/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/home/bartekj/Projects/diet-planner/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/home/bartekj/Projects/diet-planner/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/bartekj/Projects/diet-planner/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/bartekj/Projects/diet-planner/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/bartekj/Projects/diet-planner/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/bartekj/Projects/diet-planner/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var options=[{id:1,value:'chicken',protein:27,calories:239},{id:2,value:'eggs',protein:13,calories:155.1},{id:3,value:'cheese piątnica semi-fat',protein:16,calories:485},{id:4,value:'peanut butter',protein:23.78,calories:642},{id:5,value:'oats',protein:14,calories:418},{id:6,value:'walnut',protein:15,calories:654.4},{id:7,value:'dark bread',protein:8.5,calories:218},{id:8,value:'protein bar Olymp 64 g',protein:31,calories:369},{id:9,value:'WPI 90 Olymp',protein:90,calories:373},{id:10,value:'wheat noodles, cooked',protein:5.15,calories:131}];var UserPanel=/*#__PURE__*/function(_React$Component){_inherits(UserPanel,_React$Component);var _super=_createSuper(UserPanel);function UserPanel(props){var _this;_classCallCheck(this,UserPanel);_this=_super.call(this,props);_this.addObjectToArray=function(e){e.preventDefault();var proteinPerFood=_this.state.weight*_this.state.protein/100;var caloriesPerFood=_this.state.weight*_this.state.calories/100;_this.setState({foods:[].concat(_toConsumableArray(_this.state.foods),[{id:_this.state.id+1,name:_this.state.name,protein:proteinPerFood,calories:caloriesPerFood}]),name:'',protein:0,weight:0,id:_this.state.id+1,totalProtein:_this.state.totalProtein+proteinPerFood,totalKcal:_this.state.totalKcal+caloriesPerFood});};_this.removeObject=function(val){var obj=_this.state.foods.find(function(o){return o.id===val;});_this.setState({foods:_this.state.foods.filter(function(obj){return obj.id!==val;}),totalProtein:_this.state.totalProtein-obj.protein,totalKcal:_this.state.totalKcal-obj.calories});};_this.state={weight:0,protein:0,totalProtein:0,totalKcal:0,calories:0,id:0,name:'',foods:[]};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleNameChange=_this.handleNameChange.bind(_assertThisInitialized(_this));return _this;}_createClass(UserPanel,[{key:\"handleChange\",value:function handleChange(e){var value=e.target.value;this.setState(_defineProperty({},e.target.name,value));}},{key:\"handleNameChange\",value:function handleNameChange(e){var n=e.target.value;this.setState({name:n});var obj=options.find(function(o){return o.value.toLowerCase()===n.toLowerCase();});if(obj){this.setState({protein:obj.protein,calories:obj.calories});}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"con-2-col\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add a meal\"}),/*#__PURE__*/_jsx(\"label\",{children:\"food:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"multiselect\",type:\"text\",name:\"\",list:\"productName\",onChange:this.handleNameChange,value:this.state.name}),/*#__PURE__*/_jsx(\"datalist\",{id:\"productName\",children:options.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.value},option.id);})}),/*#__PURE__*/_jsx(\"label\",{children:\"weight (grams):\"}),/*#__PURE__*/_jsx(\"input\",{name:\"weight\",value:this.state.weight,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"protein/100g:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"protein\",value:this.state.protein,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"calories/100g\"}),/*#__PURE__*/_jsx(\"input\",{name:\"calories\",value:this.state.calories,onChange:this.handleChange}),this.state.foods.map(function(food){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"food: \",food.name,\", protein: \",Math.round(food.protein*100)/100,\"g, calories: \",Math.round(food.calories*100)/100,\"kcal\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.removeObject(food.id);},type:\"button\",children:\"x\"}),/*#__PURE__*/_jsx(\"hr\",{})]},food.id);})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Macronutrients\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total calories \",Math.round(this.state.totalKcal*100)/100,\"kcal\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total protein \",Math.round(this.state.totalProtein*100)/100,\"g\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:this.addObjectToArray,children:\"Add food\"})]});}}]);return UserPanel;}(React.Component);export default UserPanel;","map":{"version":3,"names":["React","options","id","value","protein","calories","UserPanel","props","addObjectToArray","e","preventDefault","proteinPerFood","state","weight","caloriesPerFood","setState","foods","name","totalProtein","totalKcal","removeObject","val","obj","find","o","filter","handleChange","bind","handleNameChange","target","n","toLowerCase","map","option","food","Math","round","Component"],"sources":["/home/bartekj/Projects/diet-planner/src/components/UserPanel.js"],"sourcesContent":["import React from 'react';\n\nconst options = [\n    { id: 1, value: 'chicken', protein: 27, calories: 239 },\n    { id: 2, value: 'eggs', protein: 13, calories: 155.1 },\n    { id: 3, value: 'cheese piątnica semi-fat', protein: 16, calories: 485 },\n    { id: 4, value: 'peanut butter', protein: 23.78, calories: 642 },\n    { id: 5, value: 'oats', protein: 14, calories: 418 },\n    { id: 6, value: 'walnut', protein: 15, calories: 654.4 },\n    { id: 7, value: 'dark bread', protein: 8.5, calories: 218 },\n    { id: 8, value: 'protein bar Olymp 64 g', protein: 31, calories: 369 },\n    { id: 9, value: 'WPI 90 Olymp', protein: 90, calories: 373 },\n    { id: 10, value: 'wheat noodles, cooked', protein: 5.15, calories: 131 }\n]\n\nclass UserPanel extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            weight: 0,\n            protein: 0,\n            totalProtein: 0,\n            totalKcal: 0,\n            calories: 0,\n            id: 0,\n            name: '',\n            foods: []\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleNameChange = this.handleNameChange.bind(this);\n\n    }\n\n    addObjectToArray = e => {\n        e.preventDefault();\n        let proteinPerFood = (this.state.weight * this.state.protein) / 100\n        let caloriesPerFood = (this.state.weight * this.state.calories) / 100\n        this.setState({\n            foods: [\n                ...this.state.foods,\n                { id: this.state.id + 1, name: this.state.name, protein: proteinPerFood, calories: caloriesPerFood }\n            ],\n            name: '',\n            protein: 0,\n            weight: 0,\n            id: this.state.id + 1,\n            totalProtein: this.state.totalProtein + proteinPerFood,\n            totalKcal: this.state.totalKcal + caloriesPerFood\n        })\n    };\n\n    removeObject = val => {\n        let obj = this.state.foods.find(o => o.id === val);\n        this.setState({\n            foods: this.state.foods.filter(obj => {\n                return obj.id !== val;\n            }),\n            totalProtein: this.state.totalProtein - obj.protein,\n            totalKcal: this.state.totalKcal - obj.calories\n\n        })\n    }\n\n\n    handleChange(e) {\n        const value = e.target.value\n        this.setState({\n            [e.target.name]: value\n        });\n    }\n\n    handleNameChange(e) {\n        let n = e.target.value\n        this.setState({\n            name: n\n        })\n        let obj = options.find(o => o.value.toLowerCase() === n.toLowerCase());\n        if (obj) {\n            this.setState({\n                protein: obj.protein,\n                calories: obj.calories\n            });\n        }\n    }\n\n    render() {\n        return <>\n            <div className=\"con-2-col\">\n                <div>\n                    <h1>Add a meal</h1>\n                    <label>food:</label>\n                    <input\n                        id=\"multiselect\"\n                        type=\"text\"\n                        name=\"\"\n                        list=\"productName\"\n                        onChange={this.handleNameChange}\n                        value={this.state.name} />\n                    <datalist id=\"productName\">\n                        {options.map(option => {\n                            return (\n                                <option key={option.id} value={option.value}>{option.value}</option>\n                            );\n                        })}\n                    </datalist>\n                    <label>weight (grams):</label>\n                    <input\n                        name=\"weight\"\n                        value={this.state.weight}\n                        onChange={this.handleChange} />\n                    <label>protein/100g:</label>\n                    <input\n                        name=\"protein\"\n                        value={this.state.protein}\n                        onChange={this.handleChange} />\n                    <label>calories/100g</label>\n                    <input\n                        name=\"calories\"\n                        value={this.state.calories}\n                        onChange={this.handleChange} />\n                    {this.state.foods.map(food => {\n                        return (\n                            <div key={food.id}>\n                                <p>food: {food.name}, protein: {Math.round(food.protein * 100) / 100}g, calories: {Math.round(food.calories * 100) / 100}kcal</p>\n                                <button\n                                    onClick={() => this.removeObject(food.id)}\n                                    type=\"button\">x</button>\n                                <hr />\n                            </div>\n                        );\n                    })}\n                </div>\n                <div>\n                    <h4>Macronutrients</h4>\n                    <p>Total calories {Math.round(this.state.totalKcal * 100) / 100}kcal</p>\n                    <p>Total protein {Math.round(this.state.totalProtein * 100) / 100}g</p>\n                </div>\n            </div>\n\n\n\n            <button\n                className=\"add-button\"\n                onClick={this.addObjectToArray}>\n                Add food\n            </button>\n        </>\n    }\n}\n\nexport default UserPanel;\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"y1BAAA,MAAOA,MAAK,KAAM,OAAO,CAAC,6IAE1B,GAAMC,QAAO,CAAG,CACZ,CAAEC,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,SAAS,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,GAAI,CAAC,CACvD,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,MAAM,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,KAAM,CAAC,CACtD,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,0BAA0B,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,GAAI,CAAC,CACxE,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,eAAe,CAAEC,OAAO,CAAE,KAAK,CAAEC,QAAQ,CAAE,GAAI,CAAC,CAChE,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,MAAM,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,GAAI,CAAC,CACpD,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,QAAQ,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,KAAM,CAAC,CACxD,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,YAAY,CAAEC,OAAO,CAAE,GAAG,CAAEC,QAAQ,CAAE,GAAI,CAAC,CAC3D,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,wBAAwB,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,GAAI,CAAC,CACtE,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,cAAc,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,GAAI,CAAC,CAC5D,CAAEH,EAAE,CAAE,EAAE,CAAEC,KAAK,CAAE,uBAAuB,CAAEC,OAAO,CAAE,IAAI,CAAEC,QAAQ,CAAE,GAAI,CAAC,CAC3E,IAEKC,UAAS,kHAEX,mBAAYC,KAAK,CAAE,2CACf,uBAAMA,KAAK,EAAE,MAgBjBC,gBAAgB,CAAG,SAAAC,CAAC,CAAI,CACpBA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAIC,eAAc,CAAI,MAAKC,KAAK,CAACC,MAAM,CAAG,MAAKD,KAAK,CAACR,OAAO,CAAI,GAAG,CACnE,GAAIU,gBAAe,CAAI,MAAKF,KAAK,CAACC,MAAM,CAAG,MAAKD,KAAK,CAACP,QAAQ,CAAI,GAAG,CACrE,MAAKU,QAAQ,CAAC,CACVC,KAAK,8BACE,MAAKJ,KAAK,CAACI,KAAK,GACnB,CAAEd,EAAE,CAAE,MAAKU,KAAK,CAACV,EAAE,CAAG,CAAC,CAAEe,IAAI,CAAE,MAAKL,KAAK,CAACK,IAAI,CAAEb,OAAO,CAAEO,cAAc,CAAEN,QAAQ,CAAES,eAAgB,CAAC,EACvG,CACDG,IAAI,CAAE,EAAE,CACRb,OAAO,CAAE,CAAC,CACVS,MAAM,CAAE,CAAC,CACTX,EAAE,CAAE,MAAKU,KAAK,CAACV,EAAE,CAAG,CAAC,CACrBgB,YAAY,CAAE,MAAKN,KAAK,CAACM,YAAY,CAAGP,cAAc,CACtDQ,SAAS,CAAE,MAAKP,KAAK,CAACO,SAAS,CAAGL,eACtC,CAAC,CAAC,CACN,CAAC,OAEDM,YAAY,CAAG,SAAAC,GAAG,CAAI,CAClB,GAAIC,IAAG,CAAG,MAAKV,KAAK,CAACI,KAAK,CAACO,IAAI,CAAC,SAAAC,CAAC,QAAIA,EAAC,CAACtB,EAAE,GAAKmB,GAAG,GAAC,CAClD,MAAKN,QAAQ,CAAC,CACVC,KAAK,CAAE,MAAKJ,KAAK,CAACI,KAAK,CAACS,MAAM,CAAC,SAAAH,GAAG,CAAI,CAClC,MAAOA,IAAG,CAACpB,EAAE,GAAKmB,GAAG,CACzB,CAAC,CAAC,CACFH,YAAY,CAAE,MAAKN,KAAK,CAACM,YAAY,CAAGI,GAAG,CAAClB,OAAO,CACnDe,SAAS,CAAE,MAAKP,KAAK,CAACO,SAAS,CAAGG,GAAG,CAACjB,QAE1C,CAAC,CAAC,CACN,CAAC,CA3CG,MAAKO,KAAK,CAAG,CACTC,MAAM,CAAE,CAAC,CACTT,OAAO,CAAE,CAAC,CACVc,YAAY,CAAE,CAAC,CACfC,SAAS,CAAE,CAAC,CACZd,QAAQ,CAAE,CAAC,CACXH,EAAE,CAAE,CAAC,CACLe,IAAI,CAAE,EAAE,CACRD,KAAK,CAAE,EACX,CAAC,CACD,MAAKU,YAAY,CAAG,MAAKA,YAAY,CAACC,IAAI,+BAAM,CAChD,MAAKC,gBAAgB,CAAG,MAAKA,gBAAgB,CAACD,IAAI,+BAAM,CAAC,aAE7D,CAAC,kDAiCD,sBAAalB,CAAC,CAAE,CACZ,GAAMN,MAAK,CAAGM,CAAC,CAACoB,MAAM,CAAC1B,KAAK,CAC5B,IAAI,CAACY,QAAQ,oBACRN,CAAC,CAACoB,MAAM,CAACZ,IAAI,CAAGd,KAAK,EACxB,CACN,CAAC,gCAED,0BAAiBM,CAAC,CAAE,CAChB,GAAIqB,EAAC,CAAGrB,CAAC,CAACoB,MAAM,CAAC1B,KAAK,CACtB,IAAI,CAACY,QAAQ,CAAC,CACVE,IAAI,CAAEa,CACV,CAAC,CAAC,CACF,GAAIR,IAAG,CAAGrB,OAAO,CAACsB,IAAI,CAAC,SAAAC,CAAC,QAAIA,EAAC,CAACrB,KAAK,CAAC4B,WAAW,EAAE,GAAKD,CAAC,CAACC,WAAW,EAAE,GAAC,CACtE,GAAIT,GAAG,CAAE,CACL,IAAI,CAACP,QAAQ,CAAC,CACVX,OAAO,CAAEkB,GAAG,CAAClB,OAAO,CACpBC,QAAQ,CAAEiB,GAAG,CAACjB,QAClB,CAAC,CAAC,CACN,CACJ,CAAC,sBAED,iBAAS,iBACL,mBAAO,wCACH,aAAK,SAAS,CAAC,WAAW,wBACtB,oCACI,kCAAmB,cACnB,gCAAoB,cACpB,cACI,EAAE,CAAC,aAAa,CAChB,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,EAAE,CACP,IAAI,CAAC,aAAa,CAClB,QAAQ,CAAE,IAAI,CAACuB,gBAAiB,CAChC,KAAK,CAAE,IAAI,CAAChB,KAAK,CAACK,IAAK,EAAG,cAC9B,iBAAU,EAAE,CAAC,aAAa,UACrBhB,OAAO,CAAC+B,GAAG,CAAC,SAAAC,MAAM,CAAI,CACnB,mBACI,eAAwB,KAAK,CAAEA,MAAM,CAAC9B,KAAM,UAAE8B,MAAM,CAAC9B,KAAK,EAA7C8B,MAAM,CAAC/B,EAAE,CAA8C,CAE5E,CAAC,CAAC,EACK,cACX,0CAA8B,cAC9B,cACI,IAAI,CAAC,QAAQ,CACb,KAAK,CAAE,IAAI,CAACU,KAAK,CAACC,MAAO,CACzB,QAAQ,CAAE,IAAI,CAACa,YAAa,EAAG,cACnC,wCAA4B,cAC5B,cACI,IAAI,CAAC,SAAS,CACd,KAAK,CAAE,IAAI,CAACd,KAAK,CAACR,OAAQ,CAC1B,QAAQ,CAAE,IAAI,CAACsB,YAAa,EAAG,cACnC,wCAA4B,cAC5B,cACI,IAAI,CAAC,UAAU,CACf,KAAK,CAAE,IAAI,CAACd,KAAK,CAACP,QAAS,CAC3B,QAAQ,CAAE,IAAI,CAACqB,YAAa,EAAG,CAClC,IAAI,CAACd,KAAK,CAACI,KAAK,CAACgB,GAAG,CAAC,SAAAE,IAAI,CAAI,CAC1B,mBACI,oCACI,8BAAUA,IAAI,CAACjB,IAAI,eAAakB,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC9B,OAAO,CAAG,GAAG,CAAC,CAAG,GAAG,iBAAe+B,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC7B,QAAQ,CAAG,GAAG,CAAC,CAAG,GAAG,UAAS,cACjI,eACI,OAAO,CAAE,yBAAM,OAAI,CAACe,YAAY,CAACc,IAAI,CAAChC,EAAE,CAAC,EAAC,CAC1C,IAAI,CAAC,QAAQ,eAAW,cAC5B,aAAM,GALAgC,IAAI,CAAChC,EAAE,CAMX,CAEd,CAAC,CAAC,GACA,cACN,oCACI,sCAAuB,cACvB,uCAAmBiC,IAAI,CAACC,KAAK,CAAC,IAAI,CAACxB,KAAK,CAACO,SAAS,CAAG,GAAG,CAAC,CAAG,GAAG,UAAS,cACxE,sCAAkBgB,IAAI,CAACC,KAAK,CAAC,IAAI,CAACxB,KAAK,CAACM,YAAY,CAAG,GAAG,CAAC,CAAG,GAAG,OAAM,GACrE,GACJ,cAIN,eACI,SAAS,CAAC,YAAY,CACtB,OAAO,CAAE,IAAI,CAACV,gBAAiB,sBAE1B,GACV,CACP,CAAC,uBArImBR,KAAK,CAACqC,SAAS,EAwIvC,cAAe/B,UAAS"},"metadata":{},"sourceType":"module"}